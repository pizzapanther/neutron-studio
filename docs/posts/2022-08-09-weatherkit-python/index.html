<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Using WeatherKit with Python :: Neutron Studio</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Apple bought out the Dark Sky weather company in 2020. They plan on shutting down the Darky Sky API and replacing it with the new WeatherKit service. The WeatherKit service is now in beta and can be used to retrieve weather forecasts and current conditions.
The Dark Sky API was extremely easy to use and provided excellent weather data. The WeatherKit API functions much the same as the Dark Sky API, however, the authorization is very different and some what more difficult." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/2022-08-09-weatherkit-python/" />




<link rel="stylesheet" href="/assets/style.css">

  <link rel="stylesheet" href="/assets/blue.css">






<link rel="apple-touch-icon" href="/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="/favicon.ico">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Using WeatherKit with Python">
<meta property="og:description" content="Apple bought out the Dark Sky weather company in 2020. They plan on shutting down the Darky Sky API and replacing it with the new WeatherKit service. The WeatherKit service is now in beta and can be used to retrieve weather forecasts and current conditions.
The Dark Sky API was extremely easy to use and provided excellent weather data. The WeatherKit API functions much the same as the Dark Sky API, however, the authorization is very different and some what more difficult." />
<meta property="og:url" content="/posts/2022-08-09-weatherkit-python/" />
<meta property="og:site_name" content="Neutron Studio" />

  
    <meta property="og:image" content="/favicon.ico">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

  <meta property="article:section" content="python" />

  <meta property="article:section" content="weatherkit" />

  <meta property="article:section" content="weather api" />


  <meta property="article:published_time" content="2022-08-09 00:00:00 -0600 -0600" />












  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@6.9.96/css/materialdesignicons.min.css">
</head>
<body class="blue">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Neutron Studio
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/posts/">Blog</a></li>
        
      
        
          <li><a href="/contact">Contact</a></li>
        
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/posts/">Blog</a></li>
      
    
      
        <li><a href="/contact">Contact</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="/posts/2022-08-09-weatherkit-python/">Using WeatherKit with Python</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2022-08-09
        
      </span>
    
    
    
      <span class="post-reading-time">:: 2 min read (260 words)</span>
    
  </div>

  
  


  

  <div class="post-content"><div>
        <p>Apple bought out the Dark Sky weather company in 2020. They plan on shutting down the Darky Sky API and replacing it with the new WeatherKit service. The WeatherKit service is now in beta and can be used to retrieve weather forecasts and current conditions.</p>
<p>The Dark Sky API was extremely easy to use and provided excellent weather data. The WeatherKit API functions much the same as the Dark Sky API, however, the authorization is very different and some what more difficult. You still need to an API token like the previous API. However, now generating the token is more complex. Below is a gist that lays out how to use the API in Python with explanations of some aspects of the usage following.</p>
<script src="https://gist.github.com/pizzapanther/8a29b5462c786f0bb94a257ea535cc0f.js"></script>
<h2 id="items-needed-to-generate-a-token">Items Needed to Generate a Token<a href="#items-needed-to-generate-a-token" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><strong>WEATHERKIT_SERVICE_ID:</strong> <a href="https://developer.apple.com/account/resources/identifiers/list/serviceId">Create a service</a> in your Apple developer account. It should look something like <code>com.example.weatherkit-client</code> and make sure it ends in <code>.weatherkit-client</code>.</p>
<p><strong>WEATHERKIT_TEAM_ID:</strong> Go to your <a href="https://developer.apple.com/account/">developer account</a> and get your Team ID.</p>
<p><strong>WEATHERKIT_KID and WEATHERKIT_KEY:</strong> <a href="https://developer.apple.com/account/resources/authkeys/list">Generate a new key</a> and get the Key ID and contents of the p8 file.</p>
<h2 id="generate-a-jwt">Generate a JWT<a href="#generate-a-jwt" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Once you have the required items, you can use them to generate a JSON Web Token using the <code>ES256</code> algorithm. The expiration used to generate the token can be a large amount of time, however, a short expiration is better in case your token ever got compromised.</p>
<h2 id="using-your-token">Using Your Token<a href="#using-your-token" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Once you have a token generated, use it in an authorization header to make requests. The token can be reused until the token expiration has passed.</p>

      </div></div>

  

  
  

  
</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Â© 2023 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>







  
</div>

</body>
</html>
